SQL Fundamentals: Constraints. 


Foreign Key Constraints: 

---> In relational DBs, tables can have relationships or associations to each other, of which the primary ones are: 

	A. One-to-One => Where there is a parent table that is referenced by a child table. 

	B. One-to-Many => Where one parent table is referenced by many child tables. 

	C. Many-to-Many => Where many parents are referenced by many children. 


---> In practice, the reference column of the child table takes the primary key of the parent table. 

	---> This key forms a join point for the tables so that data can be combined. 


---> In order to define a foreign key in DDL, the following commands can be used: 


	A. Table creation:
 
		CREATE TABLE Orders (
    			...
    			PRIMARY KEY (OrderID),
    			FOREIGN KEY (PersonID) REFERENCES Persons(PersonID)
		);


		(Alternative) 

		CREATE TABLE Orders(

			...
			KEY 'FK_DETAIL_idx' ('instructor_detail_id'), 
			CONSTRAINT 'FK_DETAIL' FOREIGN KEY ('instructor_detail_id) 
			REFERENCES 'instructor_detail' ('id')
		) 

		---> The first part of this statement involves adding an index called FK_DETAIL_idx. 

		---> Note: The foreign key constraint used here ensures that only the primary id of a parent table can be used as a reference to it. 

			---> This is used in order to ensure referential integrity of the 2 tables in a relationship. 
		


	B. Table modification: 

		ALTER TABLE Orders
			ADD CONSTRAINT FK_PersonOrder
			FOREIGN KEY (PersonID) REFERENCES Persons(PersonID);

		---> Note that "CONSTRAINT FK_PersonOrder" can be dropped if there is no desire to name the foreign key. 

		---> Note that the column must already exist in order to use the above command. 


	---> FOREIGN KEY is the object keyword that is used to declare the foreign key. 

	---> REFERENCES is the "destination" / locating keyword that is used to refer to the other foreign key. 

